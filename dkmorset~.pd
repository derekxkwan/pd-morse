#N canvas 575 200 843 821 12;
#N canvas 565 268 1302 747 hittimer 0;
#X obj 85 220 sel 0 1;
#X obj 67 326 timer;
#X obj 62 5 inlet~;
#X text 138 8 INPUT SIGNAL;
#X obj 183 61 inlet;
#X obj 579 55 inlet;
#X obj 481 48 inlet;
#X text 472 77 long hit dur;
#X obj 72 439 f;
#X obj 72 461 outlet;
#X obj 160 332 loadbang;
#X msg 142 394 0;
#X text 576 84 letter space;
#X obj 694 55 inlet;
#X text 701 84 word space;
#X text 201 582 2 - long hit;
#X text 200 602 3 - short hit;
#X text 196 549 0 -long/word rest state;
#X text 202 564 1 - short/letter rest state;
#X msg 101 399 2;
#X msg 63 396 3;
#X msg 188 402 1;
#X obj 69 365 moses 200;
#X obj 18 275 outlet;
#X obj 62 28 *~;
#X obj 62 50 *~;
#X msg 27 155 1;
#X obj 77 73 rmstodb~;
#X msg 87 151 0;
#X obj 77 95 lop~ 20;
#X obj 40 129 threshold~ 50 50 10 50;
#X text 26 251 dn/off;
#X obj 66 192 change 0;
#X obj 186 151 pack f f;
#X obj 275 111 t b f;
#X msg 186 173 set \$1 50 \$2 50;
#X obj 278 60 inlet;
#X obj 320 306 delay 650;
#X obj 320 211 t b b;
#X msg 415 228 stop;
#X obj 458 306 delay 1500;
#X text 177 33 high dB^4 thresh;
#X text 318 36 low dB^4 thresh;
#X connect 0 0 1 1;
#X connect 0 0 37 0;
#X connect 0 1 1 0;
#X connect 0 1 38 0;
#X connect 1 0 22 0;
#X connect 2 0 24 0;
#X connect 2 0 24 1;
#X connect 4 0 33 0;
#X connect 5 0 37 1;
#X connect 6 0 22 1;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 11 0 8 0;
#X connect 13 0 40 1;
#X connect 19 0 8 0;
#X connect 20 0 8 0;
#X connect 21 0 8 0;
#X connect 22 0 20 0;
#X connect 22 1 19 0;
#X connect 24 0 25 0;
#X connect 24 0 25 1;
#X connect 25 0 27 0;
#X connect 26 0 32 0;
#X connect 27 0 29 0;
#X connect 28 0 32 0;
#X connect 29 0 30 0;
#X connect 30 0 26 0;
#X connect 30 1 28 0;
#X connect 32 0 0 0;
#X connect 32 0 23 0;
#X connect 33 0 35 0;
#X connect 34 0 33 0;
#X connect 34 1 33 1;
#X connect 35 0 30 0;
#X connect 36 0 34 0;
#X connect 37 0 21 0;
#X connect 38 0 40 0;
#X connect 38 1 39 0;
#X connect 39 0 37 0;
#X connect 39 0 40 0;
#X connect 40 0 11 0;
#X restore 125 336 pd hittimer;
#N canvas 33 362 771 583 lettermaker 0;
#X obj 233 169 f;
#X msg 268 136 0;
#X obj 272 176 + 1;
#X obj 110 66 t f f;
#X obj 181 219 array set \$0-letter;
#X obj 159 275 array get \$0-letter;
#X obj 222 251 + 1;
#X obj 365 224 array define \$0-letter 20;
#X obj 114 26 inlet;
#X obj 133 326 outlet;
#X text 176 26 input number durations;
#X text 231 303 output letter;
#X text 50 263 to ascii;
#X obj 134 304 list tosymbol;
#X obj 102 239 + 43;
#X obj 87 186 moses 2;
#X obj 168 95 sel 0 1 2 3;
#X msg 161 171 42;
#X text 36 138 using *(42) for space;
#X obj 319 98 loadbang;
#X connect 0 0 2 0;
#X connect 0 0 4 1;
#X connect 0 0 6 0;
#X connect 1 0 0 1;
#X connect 2 0 0 1;
#X connect 3 0 15 0;
#X connect 3 1 16 0;
#X connect 5 0 13 0;
#X connect 6 0 5 1;
#X connect 8 0 3 0;
#X connect 13 0 9 0;
#X connect 14 0 4 0;
#X connect 15 1 14 0;
#X connect 16 0 17 0;
#X connect 16 1 5 0;
#X connect 16 1 1 0;
#X connect 16 2 0 0;
#X connect 16 3 0 0;
#X connect 17 0 13 0;
#X connect 19 0 1 0;
#X restore 106 369 pd lettermaker;
#N canvas 771 551 606 503 lettersym 0;
#X obj 18 54 inlet;
#X obj 300 40 loadbang;
#X obj 8 117 text search \$0-morsetable;
#X obj 7 174 text get \$0-ltrtable;
#X obj 11 274 outlet;
#X msg 250 78 read src/dxk-morsetable.txt;
#X msg 248 150 read src/dxk-ltrtable.txt;
#X text 22 250 letter;
#X obj 199 476 outlet;
#X msg 235 202 read src/dxk-asciitable.txt;
#X text 148 458 word;
#X obj 69 347 text get \$0-asciitable;
#X obj 234 266 array define \$0-word 20;
#X obj 109 260 moses 1;
#X obj 106 291 t f b;
#X obj 242 320 f;
#X obj 268 360 + 1;
#X obj 325 384 + 1;
#X msg 285 298 0;
#X obj 145 398 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 162 388 array set \$0-word;
#X obj 417 289 loadbang;
#X obj 203 421 array get \$0-word;
#X obj 203 443 list tosymbol;
#X obj 260 122 text define \$0-morsetable;
#X obj 234 174 text define \$0-ltrtable;
#X obj 221 226 text define \$0-asciitable;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 1 0 9 0;
#X connect 2 0 3 0;
#X connect 2 0 13 0;
#X connect 3 0 4 0;
#X connect 5 0 24 0;
#X connect 6 0 25 0;
#X connect 9 0 26 0;
#X connect 11 0 20 0;
#X connect 13 0 18 0;
#X connect 13 0 19 0;
#X connect 13 1 14 0;
#X connect 14 0 11 0;
#X connect 14 1 15 0;
#X connect 15 0 16 0;
#X connect 15 0 17 0;
#X connect 15 0 20 1;
#X connect 16 0 15 1;
#X connect 17 0 22 1;
#X connect 18 0 15 1;
#X connect 19 0 22 0;
#X connect 21 0 18 0;
#X connect 22 0 23 0;
#X connect 23 0 8 0;
#X restore 108 408 pd lettersym;
#X obj 54 52 inlet~;
#X obj 88 439 outlet;
#X obj 183 440 outlet;
#X text 100 461 letter;
#X text 184 464 word;
#X obj 213 44 inlet;
#X obj 604 74 inlet;
#X obj 491 81 inlet;
#X text 450 109 long hit dur;
#X text 601 103 letter space;
#X obj 710 85 inlet;
#X text 707 115 word space;
#X obj 15 363 outlet;
#X text 20 345 on/off;
#X obj 319 57 inlet;
#X text 129 80 high db^4 thresh;
#X text 310 79 low db^4 thresh;
#X obj 148 198 f \$1;
#X obj 148 223 moses 0;
#X msg 148 248 50;
#X obj 241 205 f \$2;
#X obj 241 230 moses 0;
#X msg 241 255 10;
#X obj 241 282 f;
#X obj 146 282 f;
#X obj 325 204 f \$3;
#X obj 325 229 moses 0;
#X obj 325 279 f;
#X msg 325 254 150;
#X obj 199 109 loadbang;
#X obj 199 134 t b b;
#X obj 425 198 f \$4;
#X obj 425 223 moses 0;
#X msg 425 248 200;
#X obj 425 273 f;
#X obj 528 221 moses 0;
#X obj 528 271 f;
#X obj 528 196 f \$5;
#X msg 528 246 1000;
#X obj 11 494 cnv 15 375 150 empty empty NOTES 20 12 0 14 -204800 -66577
0;
#X text 21 544 if no hits for letter space ms \, new letter;
#X text 23 521 everything < long_hit_dur ms is a short hit;
#X text 23 604 if not hits for word space ms \, new word;
#X text 45 565 and output (space);
#X obj 425 308 cnv 15 400 150 empty empty INLETS 20 12 0 14 -204786
-66577 0;
#X text 433 354 4: long hit dur (ms) \, 5: letter space (ms);
#X text 434 377 6: word space (ms);
#X text 433 332 1: sig \, 2: high db^4 thresh \, 3: low db^4 thresh
;
#X obj 16 4 cnv 15 300 30 empty empty DKMORSET~ 20 12 0 14 -203904
-66577 0;
#X text 122 5 morse code transcriber;
#X obj 653 5 cnv 15 200 60 empty empty empty 20 12 0 14 -262130 -66577
0;
#X text 664 15 Derek Kwan: 2016;
#X text 663 33 GPL v2;
#X obj 426 403 cnv 15 400 150 empty empty OUTLETS 20 12 0 14 -261682
-66577 0;
#X obj 426 499 cnv 15 400 150 empty empty ARGS 20 12 0 14 -261234 -66577
0;
#X text 439 555 3: long hit dur (ms) \, 4: letter space (ms);
#X text 440 576 5: word space (ms);
#X text 441 533 1: high db^4 thresh \, 2: low db^4 thresh;
#X text 439 424 1 on/off trigger \, 2 letter \, 3 word;
#X connect 0 0 15 0;
#X connect 0 1 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 5 0;
#X connect 3 0 0 0;
#X connect 8 0 27 0;
#X connect 9 0 35 0;
#X connect 10 0 30 0;
#X connect 13 0 39 0;
#X connect 17 0 26 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 21 1 27 0;
#X connect 22 0 27 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 24 1 26 0;
#X connect 25 0 26 0;
#X connect 26 0 0 2;
#X connect 27 0 0 1;
#X connect 28 0 29 0;
#X connect 29 0 31 0;
#X connect 29 1 30 0;
#X connect 30 0 0 3;
#X connect 31 0 30 0;
#X connect 32 0 33 0;
#X connect 32 0 28 0;
#X connect 32 0 34 0;
#X connect 32 0 40 0;
#X connect 33 0 23 0;
#X connect 33 1 20 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 35 1 37 0;
#X connect 36 0 37 0;
#X connect 37 0 0 4;
#X connect 38 0 41 0;
#X connect 38 1 39 0;
#X connect 40 0 38 0;
#X connect 41 0 39 0;
